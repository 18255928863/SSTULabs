PART
{
module = Part
name = SSTU-TANK-MFT-A
author = Shadowmage

TechRequired = basicRocketry
entryCost = 16000
cost = 6148
category = FuelTank
subcategory = 0
title = SSTU - TANK - MFT-A - Standard Tank
manufacturer = SSTU
description = SSTU - Tanks - Standard Fuel Tank.  Available in any diameter and a wide range of lengths, the SSTU Modular Fuel Tank is the right choice for all of your fuel storage needs.  Includes selectable mount and nosecone options as well as variable diameter, length, and paint-scheme.
tags = tank, fuel, ?lfo, ?lf, lh2, hydrolox, kerolox, cryo, resource, storage

MODEL
{
	model = SSTU/Assets/EmptyProxyModel
}
rescaleFactor = 1

// nodes/attachment 
// node position specification: posX,posY,posZ,axisX,axisY,axisZ,size
// attachment rules: stack, srfAttach, allowStack, allowSrfAttach, allowCollision
node_stack_top = 0,1,0,0,1,0,2
node_stack_top2 = 0,1,0,0,1,0,2
node_stack_top3 = 0,1,0,0,1,0,2
node_stack_top4 = 0,1,0,0,1,0,2
node_stack_bottom =  0,-1,0,0,-1,0,2
node_stack_bottom2 =  0,-1,0,0,-1,0,2
node_stack_bottom3 =  0,-1,0,0,-1,0,2
node_stack_bottom4 =  0,-1,0,0,-1,0,2
node_stack_interstage = 0,-1,0,0,-1,0,2
node_attach = 2.5, 0, 0, 1, 0, 0
attachRules = 1,1,1,1,0

mass = 4.665
crashTolerance = 14
maxTemp = 2000
fuelCrossFeed = True
breakingForce = 2000
breakingTorque = 2000

MODULE
{
	name = SSTUVolumeContainer
	//default placeholder volume; set by MFT module below
	volume = 100000
	enableContainerEdit = true
	enableFuelTypeChange = true
	baseContainerIndex = 0
	CONTAINER
	{
		name = Main Tank
		percent = 100
		tankageVolume = 0.15
		tankageMass = 0.15
		defaultModifier = standard
		defaultFuelPreset = LFO
		resource = LiquidFuel
		resource = LqdHydrogen
		resource = Oxidizer
		resource = MonoPropellant
		resource = Aerozine50
		resource = NTO
		resource = ElectricCharge
		resource = RocketParts
		modifier = standard
		modifier = lbo
		modifier = zbo
		modifier = zboLight
		modifier = light
		modifier = superLight
		modifier = structural
		modifier = structuralLight
	}
}
MODULE
{
	name = SSTUModularPart
    
    //standard module configuration values
	diameterIncrement = 0.625
	minDiameter = 1.25
	maxDiameter = 1.25
    userAdapterVolume = true
    useAdapterMass = true
    useAdapterCost = true
    
    //layers for use in the built-in animation handling -- ensures no conflicts between models
    solarAnimationLayer = 1
    noseAnimationLayer = 3
    upperAnimationLayer = 5
    coreAnimationLayer = 7
    lowerAnimationLayer = 9
    mountAnimationLayer = 11
    
    //upper-rcs-module will rename its thrust transforms to this name (should be the name specified in the ModuleRCS)
    upperRCSThrustTransform = rcsThrustTransform
    //lower-rcs-module will rename its thrust transforms to this name (should be the name specified in the ModuleRCS)
    lowerRCSThrustTransform = rcsThrustTransform
    //model-slot responsible for engine updating will rename its thrust transforms to this name (should be the name specified in the ModuleEngines)
    engineThrustTransform = engineThrustTransform
    
    //attach nodes that are manipulated by the various models
	topManagedNodeNames = top, top2, top3, top4
	bottomManagedNodeNames = bottom, bottom2, bottom3, bottom4
    noseInterstageNode = noseInterstage
    mountInterstageNode = mountInterstage
    
    //which model slots may the solar panels be parented to?
    solarParentOptions = NOSE,UPPER,CORE,LOWER,MOUNT
    //which model slots may the upper-rcs be parented to?
    upperRCSParentOptions = NOSE,UPPER,CORE,LOWER,MOUNT
    //which model slots may the lower-rcs be parented to?
    lowerRCSParentOptions = NOSE,UPPER,CORE,LOWER,MOUNT
    
    //below here specifies starting/default values
    currentDiameter = 1.25
	
    currentNose = Model-Tank-None
    currentUpper = MFT-C-1-0
    currentCore = MFT-IP-1-0
    currentLower = MFT-A-0-1
    currentMount = Model-Tank-None
	
    //standard intertank model selection
    //these will use the A+B tank models for lower/upper options
	CORE
	{
        variant = Standard
        model = MFT-IP-0-5
	}
    
    //cryogenic intertank model.  Empty model selection.
    //this variant will use the B tank models for both upper and lower options
    //the model definition will have specific upper/lower profiles to ensure use of specific tanks
	CORE
	{
        variant = Cryogenic
        model = MFT-IC-0-0
	}
    
    //cryogenic-framed tank models.  These use the existing precompiled models as the intertank.
    //need to limit the upper/lower selections when these are in use to 'none'
	CORE
	{
        variant = Framed
		model = MFT-CF-0-5
	}
    
    //all upper model selections; current valid selections determined by current core model
    UPPER
    {
        //empty model -- can be used to allow for an 'intertank only' tank setup 
        model = Model-None
        
        //B tank variants used for Standard and Cryo variant setups
		model = MFT-B-0-5
    }
    
    //all nose model selections -- generally this will just be adapters, regardless of other models....
    NOSE
    {
        //standard and inset tank caps
        model = Model-TankCap-Inset
        model = Model-TankCap-Flat
        
        //adapter model selections
        model = Adapter-2-1-Flat
        //etc
        
        //nosecone model selections
        model = Nosecone-1
        //etc
    }
    
    //all lower model selections; current valid selections determined by current core model
    LOWER
    {
        //empty model -- can be used to allow for an 'intertank only' tank setup 
        model = Model-None
        
        //A tank variants used for Standard variant setups, includes piping, are used by the MFT-IP intertank model
		model = MFT-A-0-5
        
        //B tank variants used for Standard and Cryo variant setups
		model = MFT-B-0-5
    }
    
    MOUNT
    {
        //standard and inset tank caps
        model = Model-TankCap-Inset
        model = Model-TankCap-Flat
        
        //adapter model selections
        model = Adapter-2-1-Flat
        //etc
        
        //nosecone model selections
        model = Nosecone-1
        //etc
        
        //engine mount model selections
        model = Mount-Generic
        //etc
    }
	
	SOLAR
	{
		model = Solar-None
		model = Solar-DOS-S
	}
	
	UPPERRCS
	{
		model = RCS-None
		model = RCS-4F-T
	}
	
	LOWERRCS
	{
		model = RCS-None
		model = RCS-4F-T
	}
	
	UPGRADES
	{
		UPGRADE
		{
			name__ = SSTU-MFT-D1
			maxTankDiameter = 1.875
		}
		UPGRADE
		{
			name__ = SSTU-MFT-D2
			maxTankDiameter = 2.5
		}
		UPGRADE
		{
			name__ = SSTU-MFT-D3
			maxTankDiameter = 3.125
		}
		UPGRADE
		{
			name__ = SSTU-MFT-D4
			maxTankDiameter = 3.75
		}
		UPGRADE
		{
			name__ = SSTU-MFT-D5
			maxTankDiameter = 6.25
		}
		UPGRADE
		{
			name__ = SSTU-MFT-D6
			maxTankDiameter = 10
		}
		UPGRADE
		{
			name__ = SSTU-MFT-M1
			minTankDiameter = 0.625
		}
		UPGRADE
		{
			name__ = SSTU-VCMod-Lightweight
		}
		UPGRADE
		{
			name__ = SSTU-VCMod-SuperLightweight
		}
		UPGRADE
		{
			name__ = SSTU-VCMod-LowBoiloff
		}
		UPGRADE
		{
			name__ = SSTU-VCMod-ZeroBoiloff
		}
		UPGRADE
		{
			name__ = SSTU-VCMod-LightweightZeroBoiloff
		}
	}
}
MODULE
{
	name = SSTUFlagDecal
	transformName = FlagTransform
}
MODULE
{
	name = SSTUSelectableNodes
	nodeName = interstage
	startsEnabled = false
}
MODULE
{
	name = SSTUResourceBoiloff
	//only the first two stats are normally used, rest are loaded from VolumeContainer if present; but configurable for use on stock tanks or whatever
	boiloffLostModifier = 1
	boiloffCostModifier = 1
	activeInsulationPercent = 0
	activeECCost = 1
	activeInsulationPrevention = 1
	inactiveInsulationPrevention = 0
	passiveInsulationPrevention = 0
}
MODULE
{
	name = ModuleToggleCrossfeed
	toggleFlight = true
	toggleEditor = true
	//TODO propogation settings?
}
}
