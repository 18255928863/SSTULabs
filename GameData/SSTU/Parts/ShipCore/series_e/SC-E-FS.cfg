PART
{
module = Part
name = SSTU-SC-E-FS
author = Shadowmage

TechRequired = veryHeavyRocketry
entryCost = 18000
cost = 6400
category = Pods
subcategory = 0
title = SSTU - SC-E-FS - Fuselage
manufacturer = SSTU
description = Ship Core - Series E - Fuselage.

MODEL
{
	model = SSTU/Assets/SC-E-FS
}
MODEL
{
	model = SSTU/Assets/SC-GEN-DP-1P
	position = 0, 10.86689, -2.35
	rotation = 90, 180, 0
}
rescaleFactor = 1

// nodes/attachment 
// node position specification: posX,posY,posZ,axisX,axisY,axisZ,size
// attachment rules: stack, srfAttach, allowStack, allowSrfAttach, allowCollision
// node_stack_mpu = 0, -9, 0, 0, -1, 0, 2
node_stack_wingLeft = -1.74421, 5, 0.55870, -0.99452, 0, -0.10453, 2
node_stack_wingRight = 1.74421, 5, 0.55870, 0.99452, 0, -0.10453, 2
node_stack_tail = 0, -1.52667, -2.74455, 0, 0, -1, 2
node_stack_bayFront = 0, 9.86689, -0.75, 0, -1, 0, 2
node_stack_bayRear = 0, 0.1, -0.75, 0, 1, 0, 2
node_stack_dock = 0, 10.86689, -2.43796, 0, 0, -1, 2
node_attach = 0, 5, 1.14, 0, 0, -1, 2
attachRules = 1,1,1,1,0


// --- standard part parameters ---
mass = 37.5
crashTolerance = 24
maxTemp = 2400
fuelCrossFeed = False
CrewCapacity = 6
vesselType = Ship
stagingIcon = COMMAND_POD
bulkheadProfiles = size3
dragModelType = default
CoMOffset = 0, 2.5, 0  //roughly at the third cargo-bay segment
CoLOffset = 0, 4.5, 0  //roughly half-way along the body

EFFECTS
{
	running_closed
	{
		AUDIO
		{
			channel = Ship
			clip = sound_rocket_spurts
			volume = 0.0 0.0
			volume = 1.0 1.0
			pitch = 0.0 0.2
			pitch = 1.0 1.0
			loop = true
		}
		PREFAB_PARTICLE
		{
			prefabName = fx_smokeTrail_veryLarge
			transformName = SC-E-ThrustTransform
			emission = 0.0 0.0
			emission = 0.05 0.0
			emission = 0.075 0.25
			emission = 1.0 1.25
			speed = 0.0 0.25
			speed = 1.0 1.0
			localOffset = 0, 0, 3
		}
		MODEL_MULTI_PARTICLE
		{
			modelName = Squad/FX/ks1_Exhaust
			transformName = SC-E-ThrustTransform			
			emission = 0.0 0.0
			emission = 0.05 0.0
			emission = 0.075 0.25
			emission = 1.0 1.25
			speed = 0.0 0.5
			speed = 1.0 1.2
			localPosition = 0, 0, 2
		}
	}
	running_oms
	{
		AUDIO
		{
			channel = Ship
			clip = sound_rocket_spurts
			volume = 0.0 0.0
			volume = 1.0 1.0
			pitch = 0.0 0.2
			pitch = 1.0 1.0
			loop = true
		}
		PREFAB_PARTICLE
		{
			prefabName = fx_smokeTrail_veryLarge
			transformName = SC-E-OMSTransform
			emission = 0.0 0.0
			emission = 0.05 0.0
			emission = 0.075 0.25
			emission = 1.0 1.25
			speed = 0.0 0.25
			speed = 1.0 1.0
			localOffset = 0, 0, 3
		}
		MODEL_MULTI_PARTICLE
		{
			modelName = Squad/FX/ks1_Exhaust
			transformName = SC-E-OMSTransform			
			emission = 0.0 0.0
			emission = 0.05 0.0
			emission = 0.075 0.25
			emission = 1.0 1.25
			speed = 0.0 0.5
			speed = 1.0 1.2
			localPosition = 0, 0, 2
		}
	}
	engage
	{
		AUDIO
		{
			channel = Ship
			clip = sound_vent_soft
			volume = 1.0
			pitch = 2.0
			loop = false
		}
	}
	flameout
	{
		PREFAB_PARTICLE
		{
			prefabName = fx_exhaustSparks_flameout_2
			transformName = SC-E-ThrustTransform
			oneShot = true
		}
		AUDIO
		{
			channel = Ship
			clip = sound_explosion_low
			volume = 1.0
			pitch = 2.0
			loop = false
		}
	}
}

RESOURCE
{
	name = ElectricCharge
	amount = 600
	maxAmount = 600
}
RESOURCE
{
	name = MonoPropellant
	amount = 750
	maxAmount = 750
}


MODULE
{
	name = ModuleCommand
	minimumCrew = 0	
	RESOURCE
	{
		name = ElectricCharge
		rate = 0.035
	}
}
MODULE
{ 
	name = ModuleReactionWheel	
	PitchTorque = 30
	YawTorque = 30
	RollTorque = 30
	RESOURCE
	{
		name = ElectricCharge
		rate = 2.4
	}
}
MODULE
{
	name = ModuleScienceExperiment		
	experimentID = crewReport	
	experimentActionName = Crew Report
	resetActionName = Discard Crew Report
	reviewActionName = Review Report	
	useStaging = False	
	useActionGroups = True
	hideUIwhenUnavailable = True	
	rerunnable = True	
	xmitDataScalar = 1.0
}
MODULE
{
	name = ModuleScienceContainer	
	reviewActionName = Review Stored Data
	storeActionName = Store Experiments
	evaOnlyStorage = True
	storageRange = 2.0
}
MODULE
{
	name = ModuleLiftingSurface
	useInternalDragModel = False
	deflectionLiftCoeff = 0.6
	dragAtMaxAoA = 0.1
	dragAtMinAoA = 0.03
}

MODULE
{
	name = ModuleEnginesFX
	engineID = SSTU-SC-E-SSME
	runningEffectName = running_closed
	thrustVectorTransformName = SC-E-ThrustTransform
	exhaustDamage = True
	ignitionThreshold = 0.1
	minThrust = 0
	maxThrust = 3000
	heatProduction = 250
	fxOffset = 0, 0, 2.3
	PROPELLANT
	{
		name = LqdHydrogen
        ratio = 15
		DrawGauge = True
	}
	PROPELLANT
	{
		name = Oxidizer
		ratio = 1
	}
	atmosphereCurve
 	{
		key = 0 345
		key = 1 279
 	}
}
MODULE
{
	name = ModuleGimbal
	gimbalTransformName = SC-E-ThrustTransform
	gimbalRange = 10.5
	useGimbalResponseSpeed = true
}

MODULE
{
	name = ModuleEnginesFX
	engineID = SSTU-SC-E-OMS
	runningEffectName = running_oms
	thrustVectorTransformName = SC-E-OMSTransform
	exhaustDamage = True
	ignitionThreshold = 0.1
	minThrust = 0
	maxThrust = 22
	heatProduction = 250
	fxOffset = 0, 0, 2.3
	PROPELLANT
	{
		name = MonoPropellant
        ratio = 1
		DrawGauge = True
	}
	atmosphereCurve
 	{
		key = 0 345
		key = 1 279
 	}
}
MODULE
{
	name = ModuleGimbal
	gimbalTransformName = SC-E-OMSTransform
	gimbalRange = 10.5
	useGimbalResponseSpeed = true
}

MODULE
{
	name = MultiModeEngine
	primaryEngineID = SSTU-SC-E-SSME
	secondaryEngineID = SSTU-SC-E-OMS
	autoSwitchAvailable = false
}

MODULE
{
	name = ModuleDockingNode
	referenceAttachNode = dock
	nodeTransformName = SC-GEN-DP-1P-DockTransform
	nodeType = size0, size1
}


MODULE
{
	name = SSTUAnimateControlled
	animationName = SC-E-CargoDeploy
	animationID = 0
	animationLayer = 1
}
MODULE
{
	name = SSTUAnimateUsable	
	animationID = 0
	deployActionName = Open Cargo Bay
	retractActionName = Close Cargo Bay
}
MODULE
{
	name = SSTUAirstreamShield
	topY = 10
	bottomY = 0
	topRadius = 1.875
	bottomRadius = 1.875
}

MODULE
{
	name = SSTUAnimateControlled
	animationName = SC-GEN-DP-1P-LightDeploy
	animationID = 1
	animationLayer = 2
	
}
MODULE
{
	name = SSTUAnimateLight
	animationID = 1
	animationOnTime = 4
	actionName = Docking Lights
    EMISSIVE        
	{
		name = SC-GEN-DP-1P-Light1
	}
    EMISSIVE        
	{
		name = SC-GEN-DP-1P-Light2
	}
    LIGHT        
	{
		name = SC-GEN-DP-1P-LightTransform1
		range = 150
		intensity = 0.5
		angle = 35
		type = Spot
	}
    LIGHT        
	{
		name = SC-GEN-DP-1P-LightTransform2
		range = 150
		intensity = 0.5
		angle = 35
		type = Spot
	}
}
}