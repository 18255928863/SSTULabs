PART
{
module = Part
name = SSTU-SC-E-FSX
author = Shadowmage

TechRequired = heavyAerodynamics
entryCost = 18000
cost = 6400
category = Pods
subcategory = 0
title = SSTU - SC-E-FS - Fuselage (No Engines)
manufacturer = SSTU
description = Ship Core - Series E - Fuselage.

MODEL
{
	model = SSTU/Assets/SC-E-FSX
}
MODEL
{
	model = SSTU/Assets/SC-GEN-DP-1P
	position = 0, 10.86689, -2.30
	rotation = 90, 180, 0
}
rescaleFactor = 1

// --- nodes/attachment ---
// node position specification: posX,posY,posZ,axisX,axisY,axisZ,size
// attachment rules: stack, srfAttach, allowStack, allowSrfAttach, allowCollision
// node_stack_mpu = 0, -9, 0, 0, -1, 0, 2
node_stack_wingLeft = -1.74421, 5, 0.55870, -0.99452, 0, -0.10453, 2
node_stack_wingRight = 1.74421, 5, 0.55870, 0.99452, 0, -0.10453, 2
node_stack_tail = 0, -1.52667, -2.74455, 0, 0, -1, 2
node_stack_bayFront = 0, 10.1068, 0.1210, 0, -1, 0, 2
node_stack_bayRear = 0, 0.1, -0.75, 0, 1, 0, 2
node_stack_dock = 0, 10.86689, -2.38796, 0, 0, -1, 2
node_stack_bottom = 0, -5.2455, 0, 0, -1, 0, 2
node_stack_maineng1 = 0.8938, -3.5220, -0.1919, 0, -1, 0, 2
node_stack_maineng2 = -0.8938, -3.5220, -0.1919, 0, -1, 0, 2
node_stack_maineng3 = 0, -3.0711, -1.9972, 0, -1, 0, 2
node_stack_omseng3 = 1.4239, -3.3874, -2.6218, 0, -1, 0, 2
node_stack_omseng3 = -1.4239, -3.3874, -2.6218, 0, -1, 0, 2
node_attach = 0, 5, 1.14, 0, 0, -1, 2
attachRules = 1,1,1,1,0

// --- standard part parameters ---
mass = 22
crashTolerance = 24
fuelCrossFeed = False
CrewCapacity = 7
vesselType = Ship
stagingIcon = COMMAND_POD
bulkheadProfiles = size3

// --- thermal parameters
maxTemp = 2400
skinMaxTemp = 2700
skinThermalMassModifier = 0.425
skinInternalConductionMult = 0.00001
thermalMassModifer = 1
emissiveConstant = 0.85

// --- aero parameters
dragModelType = default
CoMOffset = 0, 4.5, 0  //roughly at the third cargo-bay segment
CoLOffset = 0, 4.5, 0  //roughly half-way along the body

EFFECTS
{
	running_closed
	{
		AUDIO
		{
			channel = Ship
			clip = sound_rocket_spurts
			volume = 0.0 0.0
			volume = 1.0 1.0
			pitch = 0.0 0.2
			pitch = 1.0 1.0
			loop = true
		}
		PREFAB_PARTICLE
		{
			prefabName = fx_smokeTrail_veryLarge
			transformName = SC-E-ThrustTransform
			emission = 0.0 0.0
			emission = 0.05 0.0
			emission = 0.075 0.25
			emission = 1.0 1.25
			speed = 0.0 0.25
			speed = 1.0 1.0
			localOffset = 0, 0, 3
		}
		MODEL_MULTI_PARTICLE
		{
			modelName = Squad/FX/ks1_Exhaust
			transformName = SC-E-ThrustTransform			
			emission = 0.0 0.0
			emission = 0.05 0.0
			emission = 0.075 0.25
			emission = 1.0 1.25
			speed = 0.0 0.5
			speed = 1.0 1.2
			localPosition = 0, 0, 2
		}
	}
	running_oms
	{
		AUDIO
		{
			channel = Ship
			clip = sound_rocket_spurts
			volume = 0.0 0.0
			volume = 1.0 1.0
			pitch = 0.0 0.2
			pitch = 1.0 1.0
			loop = true
		}
		PREFAB_PARTICLE
		{
			prefabName = fx_smokeTrail_veryLarge
			transformName = SC-E-OMSTransform
			emission = 0.0 0.0
			emission = 0.05 0.0
			emission = 0.075 0.25
			emission = 1.0 1.25
			speed = 0.0 0.25
			speed = 1.0 1.0
			localOffset = 0, 0, 3
		}
		MODEL_MULTI_PARTICLE
		{
			modelName = Squad/FX/ks1_Exhaust
			transformName = SC-E-OMSTransform			
			emission = 0.0 0.0
			emission = 0.05 0.0
			emission = 0.075 0.25
			emission = 1.0 1.25
			speed = 0.0 0.5
			speed = 1.0 1.2
			localPosition = 0, 0, 2
		}
	}
	engage
	{
		AUDIO
		{
			channel = Ship
			clip = sound_vent_soft
			volume = 1.0
			pitch = 2.0
			loop = false
		}
	}
	flameout
	{
		PREFAB_PARTICLE
		{
			prefabName = fx_exhaustSparks_flameout_2
			transformName = SC-E-ThrustTransform
			oneShot = true
		}
		AUDIO
		{
			channel = Ship
			clip = sound_explosion_low
			volume = 1.0
			pitch = 2.0
			loop = false
		}
	}
}

RESOURCE
{
	name = ElectricCharge
	amount = 600
	maxAmount = 600
}
RESOURCE
{
	name = MonoPropellant
	amount = 750
	maxAmount = 750
}

MODULE
{
	name = ModuleCommand
	minimumCrew = 0	
	RESOURCE
	{
		name = ElectricCharge
		rate = 0.035
	}
	//disable the status text
	SSTU_FIELDDATA
	{
		name = controlSrcStatusText
		fieldType = field
		updateType = once
		flightActiveType = inactive
		editorActiveType = inactive
	}
	//update control from here to say control from cockpit
	//doesn't work.. need to maybe do on-tick?
	SSTU_FIELDDATA
	{
		name = MakeReference
		fieldType = event
		updateType = once
		newGuiName = Control From Cockpit
		flightActiveType = active
		editorActiveType = no_change
	}
}
MODULE
{ 
	name = ModuleReactionWheel	
	PitchTorque = 30
	YawTorque = 30
	RollTorque = 30
	RESOURCE
	{
		name = ElectricCharge
		rate = 2.4
	}
}
MODULE
{
	name = ModuleScienceExperiment		
	experimentID = crewReport	
	experimentActionName = Crew Report
	resetActionName = Discard Crew Report
	reviewActionName = Review Report	
	useStaging = False	
	useActionGroups = True
	hideUIwhenUnavailable = True	
	rerunnable = True	
	xmitDataScalar = 1.0
}
MODULE
{
	name = ModuleScienceContainer	
	reviewActionName = Review Stored Data
	storeActionName = Store Experiments
	evaOnlyStorage = True
	storageRange = 2.0
}
MODULE
{
	name = ModuleLiftingSurface
	useInternalDragModel = False
	deflectionLiftCoeff = 0.6
	dragAtMaxAoA = 0.1
	dragAtMinAoA = 0.03
}
MODULE
{
	name = ModuleDockingNode
	referenceAttachNode = dock
	nodeTransformName = SC-GEN-DP-1P-DockTransform
	nodeType = size0, size1
}
MODULE
{
	name = SSTUAnimateControlled
	animationName = SC-E-CargoDeploy
	animationID = 0
	animationLayer = 1
}
MODULE
{
	name = SSTUAnimateUsable	
	animationID = 0
	deployActionName = Open Cargo Bay
	retractActionName = Close Cargo Bay
}
MODULE
{
	name = SSTUAirstreamShield
	topY = 10
	bottomY = 0
	topRadius = 1.875
	bottomRadius = 1.875
}
MODULE
{
	name = SSTUAnimateControlled
	animationName = SC-GEN-DP-1P-LightDeploy
	animationID = 1
	animationLayer = 2
	
}
MODULE
{
	name = SSTUAnimateLight
	animationID = 1
	animationOnTime = 4
	actionName = Docking Lights
    EMISSIVE        
	{
		name = SC-GEN-DP-1P-Light1
	}
    EMISSIVE        
	{
		name = SC-GEN-DP-1P-Light2
	}
    LIGHT        
	{
		name = SC-GEN-DP-1P-LightTransform1
		range = 150
		intensity = 0.5
		angle = 35
		type = Spot
	}
    LIGHT        
	{
		name = SC-GEN-DP-1P-LightTransform2
		range = 150
		intensity = 0.5
		angle = 35
		type = Spot
	}
}
// cabin lights module
// landing gear module

//nose yaw RCS
MODULE
{
	name = ModuleRCS
	thrusterTransformName = SC-E-RCSThrustTransform1
	thrusterPower = 1
	resourceName = MonoPropellant
	resourceFlowMode = STAGE_PRIORITY_FLOW
	enableRoll = true
	enableYaw = true
	enablePitch = false
	enableX = true
	enableY = false
	enableZ = false
	fxPrefix = first
	atmosphereCurve
 	{
   		key = 0 260
		key = 1 100
 	}
	SSTU_FIELDDATA
	{
		name = thrustPercentage
		fieldType = field
		updateType = once
		flightActiveType = inactive
		editorActiveType = inactive
	}
	//leave this field enabled for a single module; is occasionally nice to know the RCS ISP value
	// SSTU_FIELDDATA
	// {
		// name = realISP
		// fieldType = field
		// updateType = once
		// flightActiveType = inactive
		// editorActiveType = inactive
	// }
	SSTU_FIELDDATA
	{
		name = Disable
		fieldType = event
		updateType = once
		flightActiveType = inactive
		editorActiveType = inactive
	}
	SSTU_FIELDDATA
	{
		name = Enable
		fieldType = event
		updateType = once
		flightActiveType = inactive
		editorActiveType = inactive
	}	
}
//nose retro rcs
MODULE
{
	name = ModuleRCS
	thrusterTransformName = SC-E-RCSThrustTransform2
	thrusterPower = 1
	resourceName = MonoPropellant
	resourceFlowMode = STAGE_PRIORITY_FLOW
	enableRoll = false
	enableYaw = false
	enablePitch = false
	enableX = false
	enableY = false
	enableZ = true
	fxPrefix = second
	atmosphereCurve
 	{
   		key = 0 260
		key = 1 100
 	}
	SSTU_FIELDDATA
	{
		name = thrustPercentage
		fieldType = field
		updateType = once
		flightActiveType = inactive
		editorActiveType = inactive
	}
	SSTU_FIELDDATA
	{
		name = realISP
		fieldType = field
		updateType = once
		flightActiveType = inactive
		editorActiveType = inactive
	}
	SSTU_FIELDDATA
	{
		name = Disable
		fieldType = event
		updateType = once
		flightActiveType = inactive
		editorActiveType = inactive
	}
	SSTU_FIELDDATA
	{
		name = Enable
		fieldType = event
		updateType = once
		flightActiveType = inactive
		editorActiveType = inactive
	}	
}
//nose pitch rcs
MODULE
{
	name = ModuleRCS
	thrusterTransformName = SC-E-RCSThrustTransform3
	thrusterPower = 0.8
	resourceName = MonoPropellant
	resourceFlowMode = STAGE_PRIORITY_FLOW
	enableRoll = false
	enableYaw = false
	enablePitch = true
	enableX = false
	enableY = true
	enableZ = false
	fxPrefix = third
	atmosphereCurve
 	{
   		key = 0 280
		key = 1 100
 	}
	SSTU_FIELDDATA
	{
		name = thrustPercentage
		fieldType = field
		updateType = once
		flightActiveType = inactive
		editorActiveType = inactive
	}
	SSTU_FIELDDATA
	{
		name = realISP
		fieldType = field
		updateType = once
		flightActiveType = inactive
		editorActiveType = inactive
	}
	SSTU_FIELDDATA
	{
		name = Disable
		fieldType = event
		updateType = once
		flightActiveType = inactive
		editorActiveType = inactive
	}
	SSTU_FIELDDATA
	{
		name = Enable
		fieldType = event
		updateType = once
		flightActiveType = inactive
		editorActiveType = inactive
	}	
}

//rear pitch rcs
MODULE
{
	name = ModuleRCS
	thrusterTransformName = SC-E-RCSThrustTransform4
	thrusterPower = 1
	resourceName = MonoPropellant
	resourceFlowMode = STAGE_PRIORITY_FLOW
	enableRoll = true
	enableYaw = false
	enablePitch = true
	enableX = false
	enableY = true
	enableZ = false
	fxPrefix = fourth
	atmosphereCurve
 	{
   		key = 0 280
		key = 1 100
 	}
	SSTU_FIELDDATA
	{
		name = thrustPercentage
		fieldType = field
		updateType = once
		flightActiveType = inactive
		editorActiveType = inactive
	}
	SSTU_FIELDDATA
	{
		name = realISP
		fieldType = field
		updateType = once
		flightActiveType = inactive
		editorActiveType = inactive
	}
	SSTU_FIELDDATA
	{
		name = Disable
		fieldType = event
		updateType = once
		flightActiveType = inactive
		editorActiveType = inactive
	}
	SSTU_FIELDDATA
	{
		name = Enable
		fieldType = event
		updateType = once
		flightActiveType = inactive
		editorActiveType = inactive
	}	
}
//rear yaw rcs
MODULE
{
	name = ModuleRCS
	thrusterTransformName = SC-E-RCSThrustTransform5
	thrusterPower = 1
	resourceName = MonoPropellant
	resourceFlowMode = STAGE_PRIORITY_FLOW
	enableRoll = true
	enableYaw = true
	enablePitch = false
	enableX = true
	enableY = false
	enableZ = false
	fxPrefix = fifth
	atmosphereCurve
 	{
   		key = 0 280
		key = 1 100
 	}
	SSTU_FIELDDATA
	{
		name = thrustPercentage
		fieldType = field
		updateType = once
		flightActiveType = inactive
		editorActiveType = inactive
	}
	SSTU_FIELDDATA
	{
		name = realISP
		fieldType = field
		updateType = once
		flightActiveType = inactive
		editorActiveType = inactive
	}
	SSTU_FIELDDATA
	{
		name = Disable
		fieldType = event
		updateType = once
		flightActiveType = inactive
		editorActiveType = inactive
	}
	SSTU_FIELDDATA
	{
		name = Enable
		fieldType = event
		updateType = once
		flightActiveType = inactive
		editorActiveType = inactive
	}	
}
//rear fwd rcs
MODULE
{
	name = ModuleRCS
	thrusterTransformName = SC-E-RCSThrustTransform6
	thrusterPower = 1
	resourceName = MonoPropellant
	resourceFlowMode = STAGE_PRIORITY_FLOW
	enableRoll = false
	enableYaw = false
	enablePitch = false
	enableX = false
	enableY = false
	enableZ = true
	fxPrefix = sixth
	atmosphereCurve
 	{
   		key = 0 280
		key = 1 100
 	}
	SSTU_FIELDDATA
	{
		name = thrustPercentage
		fieldType = field
		updateType = once
		flightActiveType = inactive
		editorActiveType = inactive
	}
	SSTU_FIELDDATA
	{
		name = realISP
		fieldType = field
		updateType = once
		flightActiveType = inactive
		editorActiveType = inactive
	}
	SSTU_FIELDDATA
	{
		name = Disable
		fieldType = event
		updateType = once
		flightActiveType = inactive
		editorActiveType = inactive
	}
	SSTU_FIELDDATA
	{
		name = Enable
		fieldType = event
		updateType = once
		flightActiveType = inactive
		editorActiveType = inactive
	}	
}

MODULE
{
	name = SSTUFieldManipulator
}

MODULE
{
	name = SSTUAnimateControlled
	animationName = SC-E-FS-WheelDeploy
	animationID = 2
	animationLayer = 3	
}
MODULE
{
	name = SSTUWheel
	animationID = 2
	WHEEL
	{
		wheelColliderName = SC-E-FS-WheelCollider
		wheelMeshName = SC-E-FS-WheelMesh
		// wheelMeshDamagedName = SC-E-FS-WheelMesh2
		suspensionTransformName = SC-E-FS-WheelSuspension
		suspensionNeutralName = SC-E-FS-WheelSuspensionNeutral
		steeringTransformName = SC-E-FS-WheelSteering
		boundsColliderName = SC-E-FS-NoseGear-BoundsCollider
		suspensionTravel = 0.3
		suspensionOffset = 0
		suspensionTarget = 0
		suspensionSpring = 5000	
		suspensionDamper = 1000
		motorStrength = -1
		steeringAngle = 10
		brakeStrength = 10
		invertSteering = false
	}
}
MODULE
{
	name = SSTUModelConstraint
	LOCKED_CONST
	{
		transformName = TorqueArmLower
		targetName = TorqueArmUpperTarget
		lookAxis = 0, 0, -1
		lockedAxis = 1, 0, 0
	}
	LOCKED_CONST
	{
		transformName = TorqueArmUpper
		targetName = TorqueArmLowerTarget
		lookAxis = 0, 0, -1
		lockedAxis = 1, 0, 0
	}
}
MODULE
{
	name = SSTUAnimateLight
	actionName = Cabin Lights
	EMISSIVE        
	{
		name = SC-E-FS-Windows
	}
}
MODULE
{
      name = FlagDecal
      textureQuadName = SC-E-Decal-Fuselage-Flag
}
MODULE
{
	name = SSTUDecalSwitch
	decalMeshName = SC-E-Decal-Fuselage1
	currentDecal = SC-E-Decal-Enterprise	
	DECAL
	{
		name = None
	}
	DECAL
	{
		name = SC-E-Decal-Enterprise
		texture = SSTU/Assets/SC-E-Decal1
	}
	DECAL
	{
		name = SC-E-Decal-Atlantis
		texture = SSTU/Assets/SC-E-Decal2
	}
	DECAL
	{
		name = SC-E-Decal-Discovery
		texture = SSTU/Assets/SC-E-Decal3
	}
	DECAL
	{
		name = SC-E-Decal-Endeavor
		texture = SSTU/Assets/SC-E-Decal4
	}
	DECAL
	{
		name = SC-E-Decal-KerbalStates
		texture = SSTU/Assets/SC-E-Decal5
	}
	DECAL
	{
		name = SC-E-Decal-CCCP
		texture = SSTU/Assets/SC-E-Decal6
	}
	DECAL
	{
		name = SC-E-Decal-Ptichka
		texture = SSTU/Assets/SC-E-Decal7
	}
	DECAL
	{
		name = SC-E-Decal-Buran
		texture = SSTU/Assets/SC-E-Decal8
	}
	DECAL
	{
		name = SC-E-Decal-NASA
		texture = SSTU/Assets/SC-E-Decal9
	}
	DECAL
	{
		name = SC-E-Decal-US
		texture = SSTU/Assets/SC-E-Decal10
	}
}
MODULE
{
	name = SSTUDecalSwitch
	decalMeshName = SC-E-Decal-Fuselage2
	currentDecal = SC-E-Decal-KerbalStates	
	DECAL
	{
		name = None
	}
	DECAL
	{
		name = SC-E-Decal-Enterprise
		texture = SSTU/Assets/SC-E-Decal1
	}
	DECAL
	{
		name = SC-E-Decal-Atlantis
		texture = SSTU/Assets/SC-E-Decal2
	}
	DECAL
	{
		name = SC-E-Decal-Discovery
		texture = SSTU/Assets/SC-E-Decal3
	}
	DECAL
	{
		name = SC-E-Decal-Endeavor
		texture = SSTU/Assets/SC-E-Decal4
	}
	DECAL
	{
		name = SC-E-Decal-KerbalStates
		texture = SSTU/Assets/SC-E-Decal5
	}
	DECAL
	{
		name = SC-E-Decal-CCCP
		texture = SSTU/Assets/SC-E-Decal6
	}
	DECAL
	{
		name = SC-E-Decal-Ptichka
		texture = SSTU/Assets/SC-E-Decal7
	}
	DECAL
	{
		name = SC-E-Decal-Buran
		texture = SSTU/Assets/SC-E-Decal8
	}
	DECAL
	{
		name = SC-E-Decal-NASA
		texture = SSTU/Assets/SC-E-Decal9
	}
	DECAL
	{
		name = SC-E-Decal-US
		texture = SSTU/Assets/SC-E-Decal10
	}
}
}