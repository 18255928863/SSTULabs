PART
{
module = Part
name = SSTU-SC-MFT-SM
author = Shadowmage

TechRequired = fuelSystems
entryCost = 7200
cost = 1800
category = FuelTank
subcategory = 0
title = SSTU - SC-MFT-SM
manufacturer = SSTU
description = SSTU - ShipCore - Tanks - Service Module Fuel Tank - Description TBD

MODEL
{
	model = SSTU/Assets/EmptyProxyModel
}
rescaleFactor = 1

// nodes/attachment 
// node position specification: posX,posY,posZ,axisX,axisY,axisZ,size
// attachment rules: stack, srfAttach, allowStack, allowSrfAttach, allowCollision
node_stack_top1 = 0, 0, 0, 0, 1, 0, 1
node_stack_top2 = 0, 0, 0, 0, 1, 0, 1
node_stack_bottom1 = 0,0, 0, 0, -1, 0, 1
node_stack_bottom2 = 0,0, 0, 0, -1, 0, 1
node_stack_noseInterstage = 0,1,0,0,1,0,2
node_stack_mountInterstage = 0,-1,0,0,-1,0,2
node_attach = 0, 0, -2.5, 0, 0, -1, 2
attachRules = 1,1,1,1,1

// --- standard part parameters ---
mass = 8
crashTolerance = 6
maxTemp = 1200
fuelCrossFeed = True
CrewCapacity = 0
vesselType = Ship

EFFECTS
{
	rcs
	{
		AUDIO_MULTI_POOL
		{
			channel = Ship
			transformName = SSTU-MSRM-RCSThrustTransform
			clip = sound_rocket_mini
			volume = 0.0 0.0
			volume = 0.1 0.0
			volume = 0.5 0.025
			volume = 1.0 0.1
			pitch = 0.0 0.75
			pitch = 1.0 1.5
			loop = true
		}
		MODEL_MULTI_PARTICLE
		{
			modelName = Squad/FX/Monoprop_small
			transformName = SSTU-MSRM-RCSThrustTransform
			emission = 0.0 0.0
			emission = 0.1 0.0
			emission = 1.0 1.0
			speed = 0.0 0.8
			speed = 1.0 1.0
			localRotation = -90, 0, 0
		}
	} 
}

MODULE
{
	name = SSTUModularServiceModule
	
	topRatio = 1
	bottomRatio = 0.75
	fairingRatio = 1.333333
	
	diameterIncrement = 0.625
	minDiameter = 0.625
	maxDiameter = 10
	
	useAdapterVolume = true
	useAdapterMass = false
	useAdapterCost = true
	updateSolar = true
	
	topManagedNodes = top1, top2
	bottomManagedNodes = bottom1, bottom2
	
	solarAnimationID = solarDeploy
	bayAnimationID = bayDeploy
	
	rcsThrustTransformName = RCSThrustTransform
	
	currentDiameter = 2.5
	currentRCSOffset = 0
	
	currentTop = Mount-None
	currentCore = SM-A-0-5
	currentBottom = Mount-Tank-None
	currentSolar = Solar-DOS-S
	currentRCS = MUS-RCS6
	
	currentTopTexture = default
	currentCoreTexture = default
	currentBottomTexture = default
    
	//all of the core models available to the part
	//	this includes all 'variants'
	CORE
	{
		name = SM-A-0-3
	}
	CORE
	{
		name = SM-A-0-5
	}
	CORE
	{
		name = SM-A-0-7
	}
	CORE
	{
		name = SM-A-1-0
	}
	CORE
	{
		name = SM-A-1-5
	}
	
	CORE
	{
		name = SM-B-0-3
	}
	CORE
	{
		name = SM-B-0-5
	}
	CORE
	{
		name = SM-B-0-7
	}
	CORE
	{
		name = SM-B-1-0
	}
	CORE
	{
		name = SM-B-1-5
	}
    
	//all of the solar variants available to the part
	//	the current core model and scale determine
	//	what is available at any moment
	SOLAR
	{
		name = Solar-None
	}
	SOLAR
	{
		name = Solar-DOS-S
	}
	SOLAR
	{
		name = Solar-DOS-M
	}
	SOLAR
	{
		name = Solar-DOS-L
	}
	SOLAR
	{
		name = Solar-DOS-SF
	}
	SOLAR
	{
		name = Solar-DOS-MF
	}
	SOLAR
	{
		name = Solar-SMA-S
	}
	SOLAR
	{
		name = Solar-SMA-M
	}
	SOLAR
	{
		name = Solar-SMA-L
	}
	SOLAR
	{
		name = Solar-SMB-S
	}
	SOLAR
	{
		name = Solar-SMB-M
	}
	SOLAR
	{
		name = Solar-SMB-L
	}
	SOLAR
	{
		name = Solar-SMC-S
	}
	SOLAR
	{
		name = Solar-SMC-M
	}
	SOLAR
	{
		name = Solar-SMC-L
	}
    
    RCS
    {
        name = MUS-RCS3
		dummyModel = true
    }
    RCS
    {
        name = MUS-RCS6
		rotation = 45
    }
    RCS
    {
        name = MUS-RCS4
		rotation = 45
    }
    RCS
    {
        name = MUS-RCS1
		rotation = 45
    }
    RCS
    {
        name = MUS-RCS2
		rotation = 45
    }
    RCS
    {
        name = MUS-RCS5
		rotation = 45
    }
    
	CAP
	{
		name = Mount-None
		useForBottom = false
	}
	CAP
	{
		name = Mount-Tank-None
		useForTop = false
	}
	CAP
	{
		name = Adapter-1-1-VA
	}
	CAP
	{
		name = Adapter-4-3-Flat
	}
	CAP
	{
		name = Adapter-4-3-Short
	}
	CAP
	{
		name = Adapter-4-3-Long
	}
	CAP
	{
		name = Adapter-2-1-Flat
	}
	CAP
	{
		name = Adapter-2-1-Dome
	}
	CAP
	{
		name = Adapter-2-1-Short
	}
	CAP
	{
		name = Adapter-2-1-Long
	}
	CAP
	{
		name = Adapter-4-1-Flat
	}
	CAP
	{
		name = Adapter-4-1-Short
	}
	CAP
	{
		name = Adapter-1-2-Flat
	}
	CAP
	{
		name = Adapter-1-2-Short
	}
	CAP
	{
		name = Adapter-1-2-Long
	}
	CAP
	{
		name = Adapter-2-3-Flat
	}
	CAP
	{
		name = Adapter-2-3-Short
	}
	CAP
	{
		name = Adapter-2-3-Long
	}

	UPGRADES
	{
		//these control solar panel type availability
		UPGRADE
		{
			name__ = SSTU-ST-SolarUpgrade1
		}
		UPGRADE
		{
			name__ = SSTU-ST-SolarUpgrade2
		}
		UPGRADE
		{
			name__ = SSTU-ST-SolarUpgrade3
		}
	}
}
MODULE
{
	name = SSTUVolumeContainer
	subtractMass = false
	subtractCost = false	
	volume = 100000
	enableContainerEdit = true
	enableFuelTypeChange = true
	baseContainerIndex = 0
	CONTAINER
	{
		name = Main Tank
		percent = 100
		tankageVolume = 0.15
		tankageMass = 0.15
		defaultModifier = standard
		defaultFuelPreset = LFO
		resource = LiquidFuel
		resource = LqdHydrogen
		resource = Oxidizer
		resource = MonoPropellant
		resource = Aerozine50
		resource = NTO
		resource = ElectricCharge
		resource = RocketParts
		modifier = standard
		modifier = lbo
		modifier = zbo
		modifier = zboLight
		modifier = light
		modifier = superLight
		modifier = structural
		modifier = structuralLight
	}	
}
MODULE
{
	name = SSTUSelectableNodes
	nodeName = noseInterstage
	nodeDefaultOrientation = 0, 1, 0
	startsEnabled = false
}
MODULE
{
	name = SSTUSelectableNodes
	nodeName = mountInterstage
	nodeDefaultOrientation = 0, -1, 0
	startsEnabled = false
}
MODULE
{
	name = SSTUNodeFairing
	diffuseTextureName = SSTU/Assets/SC-GEN-Fairing-DIFF
	nodeName = top
	snapToNode = false
	snapToSecondNode = false
	canManuallyJettison = false
	canAutoJettison = false
	canAdjustSections = true
	canAdjustBottom = false
	canAdjustTop = true	
	fairingName = Top Fairing
	FAIRING
	{
		canAdjustBottom = true
		canAdjustTop = true
	}
	currentTextureSet = Fairings-A
	TEXTURESET
	{
		name = Fairings-A
	}
}
MODULE
{
	name = SSTUNodeFairing
	diffuseTextureName = SSTU/Assets/SC-GEN-Fairing-DIFF
	nodeName = bottom1
	snapToNode = true
	snapToSecondNode = true
	canManuallyJettison = true
	canAdjustSections = true
	canAdjustBottom = true
	canAdjustTop = false
	fairingName = Bottom Fairing
	FAIRING
	{
		canAdjustBottom = true
		canAdjustTop = true
	}
	currentTextureSet = Fairings-A
	TEXTURESET
	{
		name = Fairings-A
	}
}
MODULE
{
	name = SSTUResourceBoiloff
	// only the first two stats are normally used, rest are loaded from VolumeContainer if present; but configurable for use on stock tanks or whatever
	boiloffLostModifier = 1
	boiloffCostModifier = 1
	activeInsulationPercent = 0
	activeECCost = 1
	activeInsulationPrevention = 1
	inactiveInsulationPrevention = 0
	passiveInsulationPrevention = 0
}
MODULE
{
	name = SSTUAnimateControlled
	animationID = solarDeploy
	animationLayer = 1
	animationName = ST-GEN-DSP-DOS-S-Deploy
}
MODULE
{
	name = SSTUSolarPanelDeployable
	animationID = solarDeploy
	rayTransforms = ST-GEN-DSP-DOS-S-Suncatcher
	pivotTransforms = ST-GEN-DSP-DOS-S-Pivot
	resourceName = ElectricCharge	
	resourceAmount = 42
	powerCurve
	{
		key = 206000000000 0 0 0
		key = 13599840256 1 0 0
		key = 68773560320 0.5 0 0
		key = 0 10 0 0
	}
}

MODULE
{
	name = SSTUAnimateControlled
	animationID = bayDeploy
	animationLayer = 1
	animationName = none
}

MODULE
{
	name = ModuleRCSFX
	thrusterTransformName = RCSThrustTransform
	thrusterPower = 1
	PROPELLANT
	{
		name = Aerozine50
		ratio = 1
		DrawGauge = True
		resourceFlowMode = NO_FLOW
	}
	PROPELLANT
	{
		name = NTO
		ratio = 1
		resourceFlowMode = NO_FLOW
	}
	runningEffectName = rcs
	enableRoll = true
	enableYaw = true
	enablePitch = true
	enableX = true
	enableY = true
	enableZ = true
	fxPrefix = first
	atmosphereCurve
	{
		key = 0 260
		key = 1 100
	}
}
MODULE
{
    name = SSTUModularRCS
    //config values
    modelName = none//do not offset RCS models
    structureScale = 1
    structureOffset = 0
    updateFuel = true
    scaleGUIActive = false//disable the scale controls for this module; uses scale control from the MSM module
    thrustScalePower = 2
	
    //set up default values
    currentScale = 1
    currentStructure = Mount-None
    currentFuelType = Hypergolic
    
    //complex config values
    STRUCTURE
    {
        name = Mount-None
    }
    FUELTYPE
    {
        name = MP
    }
    FUELTYPE
    {
        name = Hypergolic
    }
}
MODULE
{
	name = ModuleCommand
	minimumCrew = 0
	hasHibernation = True
	RESOURCE
	{
		name = ElectricCharge
		//100 per hour?
		rate = 0.0275
	}
}
MODULE
{
	name = ModuleSAS
	SASServiceLevel = 3
}
MODULE
{ 
	name = ModuleReactionWheel	
	PitchTorque = 2
	YawTorque = 2
	RollTorque = 2	
	RESOURCE
	{
		name = ElectricCharge
		rate = 0.1
	}
}
MODULE
{
	name = ModuleDataTransmitter
	packetInterval = 0.35
	packetSize = 2
	packetResourceCost = 12.0
	requiredResource = ElectricCharge
	// DeployFxModules = 11
	// TODO -- set this to standard for 'short range'
	// TODO -- possibly have upgrades available in tech tree for med range?
	antennaPower = 2000000000
	antennaCombinable = True
}
MODULE
{
	name = ModuleKerbNetAccess
	MinimumFoV = 17
	MaximumFoV = 63
	AnomalyDetection = 0
	DISPLAY_MODES
	{
		Mode = Terrain
		Mode = Biome
	}
	REQUIRED_EFFECTS
	{
		Effect = ScienceSkill
	}
}
}
